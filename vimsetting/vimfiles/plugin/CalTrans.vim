let s:ChineseLunarDB = {
                       \ '1951' : ['0', '19510206', '19510308', '19510406', '19510506', '19510605', '19510704', '19510803', '19510901', '19511001', '19511030', '19511129', '19511228', '19511228', '19520224'],
                       \ '1952' : ['0', '19520225', '19520326', '19520424', '19520524', '19520622', '19520722', '19520820', '19520919', '19521019', '19521117', '19521217', '19530115', '19530115', '19530314'],
                       \ '1953' : ['0', '19530214', '19530315', '19530414', '19530513', '19530611', '19530711', '19530810', '19530908', '19531008', '19531107', '19531206', '19540105', '19540105', '19540304'],
                       \ '1954' : ['0', '19540203', '19540305', '19540403', '19540503', '19540601', '19540630', '19540730', '19540828', '19540927', '19541027', '19541125', '19541225', '19541225', '19550221'],
                       \ '1955' : ['0', '19550222', '19550324', '19550422', '19550522', '19550620', '19550719', '19550818', '19550916', '19551016', '19551114', '19551214', '19560113', '19560113', '19560311'],
                       \ '1956' : ['0', '19560212', '19560312', '19560411', '19560510', '19560609', '19560708', '19560806', '19560905', '19561004', '19561103', '19561202', '19570101', '19570101', '19570301'],
                       \ '1957' : ['8', '19570131', '19570302', '19570331', '19570430', '19570529', '19570628', '19570727', '19570825', '19570924', '19571023', '19571122', '19571221', '19580120', '19580217'],
                       \ '1958' : ['0', '19580218', '19580320', '19580419', '19580519', '19580617', '19580717', '19580815', '19580913', '19581013', '19581111', '19581211', '19590109', '19590109', '19590308'],
                       \ '1959' : ['0', '19590208', '19590309', '19590408', '19590508', '19590606', '19590706', '19590804', '19590903', '19591002', '19591101', '19591130', '19591230', '19591230', '19600226'],
                       \ '1960' : ['6', '19600128', '19600227', '19600327', '19600426', '19600525', '19600624', '19600724', '19600822', '19600921', '19601020', '19601119', '19601218', '19610117', '19610214'],
                       \ '1961' : ['0', '19610215', '19610317', '19610415', '19610515', '19610613', '19610713', '19610811', '19610910', '19611010', '19611108', '19611208', '19620106', '19620106', '19620305'],
                       \ '1962' : ['0', '19620205', '19620306', '19620405', '19620504', '19620602', '19620702', '19620731', '19620830', '19620929', '19621028', '19621127', '19621227', '19621227', '19630223'],
                       \ '1963' : ['0', '19630224', '19630325', '19630424', '19630523', '19630621', '19630721', '19630819', '19630918', '19631017', '19631116', '19631216', '19640115', '19640115', '19640313'],
                       \ '1964' : ['0', '19640213', '19640314', '19640412', '19640512', '19640610', '19640709', '19640808', '19640906', '19641006', '19641104', '19641204', '19650103', '19650103', '19650302'],
                       \ '1965' : ['0', '19650202', '19650303', '19650402', '19650501', '19650531', '19650629', '19650728', '19650827', '19650925', '19651024', '19651123', '19651223', '19651223', '19660219'],
                       \ '1966' : ['0', '19660220', '19660322', '19660421', '19660520', '19660619', '19660718', '19660816', '19660915', '19661014', '19661112', '19661212', '19670111', '19670111', '19670310'],
                       \ '1967' : ['0', '19670209', '19670311', '19670410', '19670509', '19670608', '19670708', '19670806', '19670904', '19671004', '19671102', '19671202', '19671231', '19671231', '19680227'],
                       \ '1968' : ['7', '19680130', '19680228', '19680329', '19680427', '19680527', '19680626', '19680725', '19680824', '19680922', '19681022', '19681120', '19681220', '19690118', '19690216'],
                       \ '1969' : ['0', '19690217', '19690318', '19690417', '19690516', '19690615', '19690714', '19690813', '19690912', '19691011', '19691110', '19691209', '19700108', '19700108', '19700307'],
                       \ '1970' : ['0', '19700206', '19700308', '19700406', '19700505', '19700604', '19700703', '19700802', '19700901', '19700930', '19701030', '19701129', '19701228', '19701228', '19710224'],
                       \ '1971' : ['0', '19710225', '19710327', '19710425', '19710524', '19710623', '19710722', '19710821', '19710919', '19711019', '19711118', '19711218', '19720116', '19720116', '19720314'],
                       \ '1972' : ['0', '19720215', '19720315', '19720414', '19720513', '19720611', '19720711', '19720809', '19720908', '19721007', '19721106', '19721206', '19730104', '19730104', '19730304'],
                       \ '1973' : ['0', '19730203', '19730305', '19730403', '19730503', '19730601', '19730630', '19730730', '19730828', '19730926', '19731026', '19731125', '19731224', '19731224', '19740221'],
                       \ '1974' : ['0', '19740222', '19740324', '19740422', '19740522', '19740620', '19740719', '19740818', '19740916', '19741015', '19741114', '19741214', '19750112', '19750112', '19750312'],
                       \ '1975' : ['0', '19750211', '19750313', '19750412', '19750511', '19750610', '19750709', '19750807', '19750906', '19751005', '19751103', '19751203', '19760101', '19760101', '19760229'],
                       \ '1976' : ['8', '19760131', '19760301', '19760331', '19760429', '19760529', '19760627', '19760727', '19760825', '19760924', '19761023', '19761121', '19761221', '19770119', '19770217'],
                       \ '1977' : ['0', '19770218', '19770320', '19770418', '19770518', '19770617', '19770716', '19770815', '19770913', '19771013', '19771111', '19771211', '19780109', '19780109', '19780308'],
                       \ '1978' : ['0', '19780207', '19780309', '19780407', '19780507', '19780606', '19780705', '19780804', '19780903', '19781002', '19781101', '19781130', '19781230', '19781230', '19790226'],
                       \ '1979' : ['6', '19790128', '19790227', '19790328', '19790426', '19790526', '19790624', '19790724', '19790823', '19790921', '19791021', '19791120', '19791219', '19800118', '19800215'],
                       \ '1980' : ['0', '19800216', '19800317', '19800415', '19800514', '19800613', '19800712', '19800811', '19800909', '19801009', '19801108', '19801207', '19810106', '19810106', '19810305'],
                       \ '1981' : ['0', '19810205', '19810306', '19810405', '19810504', '19810602', '19810702', '19810731', '19810829', '19810928', '19811028', '19811126', '19811226', '19811226', '19820223'],
                       \ '1982' : ['0', '19820224', '19820325', '19820424', '19820523', '19820621', '19820721', '19820819', '19820917', '19821017', '19821115', '19821215', '19830114', '19830114', '19830314'],
                       \ '1983' : ['0', '19830213', '19830315', '19830413', '19830513', '19830611', '19830710', '19830809', '19830907', '19831006', '19831105', '19831204', '19840103', '19840103', '19840302'],
                       \ '1984' : ['10', '19840202', '19840303', '19840401', '19840501', '19840531', '19840629', '19840728', '19840827', '19840925', '19841024', '19841123', '19841222', '19850121', '19850219'],
                       \ '1985' : ['0', '19850220', '19850321', '19850420', '19850520', '19850618', '19850718', '19850816', '19850915', '19851014', '19851112', '19851212', '19860110', '19860110', '19860309'],
                       \ '1986' : ['0', '19860209', '19860310', '19860409', '19860509', '19860607', '19860707', '19860806', '19860904', '19861004', '19861102', '19861202', '19861231', '19861231', '19870227'],
                       \ '1987' : ['6', '19870129', '19870228', '19870329', '19870428', '19870527', '19870626', '19870726', '19870824', '19870923', '19871023', '19871121', '19871221', '19880119', '19880216'],
                       \ '1988' : ['0', '19880217', '19880318', '19880416', '19880516', '19880614', '19880714', '19880812', '19880911', '19881011', '19881109', '19881209', '19890108', '19890108', '19890307'],
                       \ '1989' : ['0', '19890206', '19890308', '19890406', '19890505', '19890604', '19890703', '19890802', '19890831', '19890930', '19891029', '19891128', '19891228', '19891228', '19900224'],
                       \ '1990' : ['0', '19900225', '19900327', '19900425', '19900524', '19900623', '19900722', '19900820', '19900919', '19901018', '19901117', '19901217', '19910116', '19910116', '19910315'],
                       \ '1991' : ['0', '19910215', '19910316', '19910415', '19910514', '19910612', '19910712', '19910810', '19910908', '19911008', '19911106', '19911206', '19920105', '19920105', '19920303'],
                       \ '1992' : ['0', '19920204', '19920304', '19920403', '19920503', '19920601', '19920630', '19920730', '19920828', '19920926', '19921026', '19921124', '19921224', '19921224', '19930220'],
                       \ '1993' : ['0', '19930221', '19930323', '19930422', '19930521', '19930620', '19930719', '19930818', '19930916', '19931015', '19931114', '19931213', '19940112', '19940112', '19940311'],
                       \ '1994' : ['0', '19940210', '19940312', '19940411', '19940511', '19940609', '19940709', '19940807', '19940906', '19941005', '19941103', '19941203', '19950101', '19950101', '19950228'],
                       \ '1995' : ['8', '19950131', '19950301', '19950331', '19950430', '19950529', '19950628', '19950727', '19950826', '19950925', '19951024', '19951122', '19951222', '19960120', '19960218'],
                       \ '1996' : ['0', '19960219', '19960319', '19960418', '19960517', '19960616', '19960716', '19960814', '19960913', '19961012', '19961111', '19961211', '19970109', '19970109', '19970308'],
                       \ '1997' : ['0', '19970207', '19970309', '19970407', '19970507', '19970605', '19970705', '19970803', '19970902', '19971002', '19971031', '19971130', '19971230', '19971230', '19980226'],
                       \ '1998' : ['5', '19980128', '19980227', '19980328', '19980426', '19980526', '19980624', '19980723', '19980822', '19980921', '19981020', '19981119', '19981219', '19990117', '19990215'],
                       \ '1999' : ['0', '19990216', '19990318', '19990416', '19990515', '19990614', '19990713', '19990811', '19990910', '19991009', '19991108', '19991208', '20000107', '20000107', '20000305'],
                       \ '2000' : ['0', '20000205', '20000306', '20000405', '20000504', '20000602', '20000702', '20000731', '20000829', '20000928', '20001027', '20001126', '20001226', '20001226', '20010222'],
                       \ '2001' : ['0', '20010223', '20010325', '20010423', '20010523', '20010621', '20010721', '20010819', '20010917', '20011017', '20011115', '20011215', '20020113', '20020113', '20020313'],
                       \ '2002' : ['0', '20020212', '20020314', '20020413', '20020512', '20020611', '20020710', '20020809', '20020907', '20021006', '20021105', '20021204', '20030103', '20030103', '20030302'],
                       \ '2003' : ['0', '20030201', '20030303', '20030402', '20030501', '20030531', '20030630', '20030729', '20030828', '20030926', '20031025', '20031124', '20031223', '20031223', '20040219'],
                       \ '2004' : ['0', '20040220', '20040321', '20040419', '20040519', '20040618', '20040717', '20040816', '20040914', '20041014', '20041112', '20041212', '20050110', '20050110', '20050309'],
                       \ '2005' : ['0', '20050209', '20050310', '20050409', '20050508', '20050607', '20050706', '20050805', '20050904', '20051003', '20051102', '20051201', '20051231', '20051231', '20060227'],
                       \ '2006' : ['7', '20060129', '20060228', '20060329', '20060428', '20060527', '20060626', '20060725', '20060824', '20060922', '20061022', '20061121', '20061220', '20070119', '20070217'],
                       \ '2007' : ['0', '20070218', '20070319', '20070417', '20070517', '20070615', '20070714', '20070813', '20070911', '20071011', '20071110', '20071210', '20080108', '20080108', '20080307'],
                       \ '2008' : ['0', '20080207', '20080308', '20080406', '20080505', '20080604', '20080703', '20080801', '20080831', '20080929', '20081029', '20081128', '20081227', '20081227', '20090224'],
                       \ '2009' : ['5', '20090126', '20090225', '20090327', '20090425', '20090524', '20090623', '20090722', '20090820', '20090919', '20091018', '20091117', '20091216', '20100115', '20100213'],
                       \ '2010' : ['0', '20100214', '20100316', '20100414', '20100514', '20100612', '20100712', '20100810', '20100908', '20101008', '20101106', '20101206', '20110104', '20110104', '20110304'],
                       \ '2011' : ['0', '20110203', '20110305', '20110403', '20110503', '20110602', '20110701', '20110731', '20110829', '20110927', '20111027', '20111125', '20111225', '20111225', '20120221'],
                       \ '2012' : ['0', '20120222', '20120322', '20120421', '20120521', '20120619', '20120719', '20120817', '20120916', '20121015', '20121114', '20121213', '20130112', '20130112', '20130311'],
                       \ '2013' : ['0', '20130210', '20130312', '20130410', '20130510', '20130608', '20130708', '20130807', '20130905', '20131005', '20131103', '20131203', '20140101', '20140101', '20140228'],
                       \ '2014' : ['9', '20140131', '20140301', '20140331', '20140429', '20140529', '20140627', '20140727', '20140825', '20140924', '20141024', '20141122', '20141222', '20150120', '20150218'],
                       \ '2015' : ['0', '20150219', '20150320', '20150419', '20150518', '20150616', '20150716', '20150814', '20150913', '20151013', '20151112', '20151211', '20160110', '20160110', '20160308'],
                       \ '2016' : ['0', '20160208', '20160309', '20160407', '20160507', '20160605', '20160704', '20160803', '20160901', '20161001', '20161031', '20161129', '20161229', '20161229', '20170225'],
                       \ '2017' : ['6', '20170128', '20170226', '20170328', '20170426', '20170526', '20170624', '20170723', '20170822', '20170920', '20171020', '20171118', '20171218', '20180117', '20180215'],
                       \ '2018' : ['0', '20180216', '20180317', '20180416', '20180515', '20180614', '20180713', '20180811', '20180910', '20181009', '20181108', '20181207', '20190106', '20190106', '20190306'],
                       \ '2019' : ['0', '20190205', '20190307', '20190405', '20190505', '20190603', '20190703', '20190801', '20190830', '20190929', '20191028', '20191126', '20191226', '20191226', '20200222'],
                       \ '2020' : ['0', '20200223', '20200324', '20200423', '20200523', '20200621', '20200721', '20200819', '20200917', '20201017', '20201115', '20201215', '20210113', '20210113', '20210312'],
                       \ '2021' : ['0', '20210212', '20210313', '20210412', '20210512', '20210610', '20210710', '20210808', '20210907', '20211006', '20211105', '20211204', '20220103', '20220103', '20220302'],
                       \ '2022' : ['0', '20220201', '20220303', '20220401', '20220501', '20220530', '20220629', '20220729', '20220827', '20220926', '20221025', '20221124', '20221223', '20221223', '20230219'],
                       \ '2023' : ['0', '20230220', '20230322', '20230420', '20230519', '20230618', '20230718', '20230816', '20230915', '20231015', '20231113', '20231213', '20240111', '20240111', '20240309'],
                       \ '2024' : ['0', '20240210', '20240310', '20240409', '20240508', '20240606', '20240706', '20240804', '20240903', '20241003', '20241101', '20241201', '20241231', '20241231', '20250227'],
                       \ '2025' : ['6', '20250129', '20250228', '20250329', '20250428', '20250527', '20250625', '20250725', '20250823', '20250922', '20251021', '20251120', '20251220', '20260119', '20260216'],
                       \ '2026' : ['0', '20260217', '20260319', '20260417', '20260517', '20260615', '20260714', '20260813', '20260911', '20261010', '20261109', '20261209', '20270108', '20270108', '20270307'],
                       \ '2027' : ['0', '20270206', '20270308', '20270407', '20270506', '20270605', '20270704', '20270802', '20270901', '20270930', '20271029', '20271128', '20271228', '20271228', '20280224'],
                       \ '2028' : ['0', '20280225', '20280326', '20280425', '20280524', '20280623', '20280722', '20280820', '20280919', '20281018', '20281116', '20281216', '20290115', '20290115', '20290314'],
                       \ '2029' : ['0', '20290213', '20290315', '20290414', '20290513', '20290612', '20290711', '20290810', '20290908', '20291008', '20291106', '20291205', '20300104', '20300104', '20300303'],
                       \ '2030' : ['0', '20300203', '20300304', '20300403', '20300502', '20300601', '20300701', '20300730', '20300829', '20300927', '20301027', '20301125', '20301225', '20301225', '20310220'],
                       \ '2031' : ['0', '20310221', '20310323', '20310422', '20310521', '20310620', '20310719', '20310818', '20310917', '20311016', '20311115', '20311214', '20320113', '20320113', '20320311'],
                       \ '2032' : ['0', '20320211', '20320312', '20320410', '20320509', '20320608', '20320707', '20320806', '20320905', '20321004', '20321103', '20321203', '20330101', '20330101', '20330228'],
                       \ '2033' : ['7', '20330131', '20330301', '20330331', '20330429', '20330528', '20330627', '20330726', '20330825', '20330923', '20331023', '20331122', '20331222', '20340120', '20340218'],
                       \ '2034' : ['0', '20340219', '20340320', '20340419', '20340518', '20340616', '20340716', '20340814', '20340913', '20341012', '20341111', '20341211', '20350109', '20350109', '20350309'],
                       \ '2035' : ['0', '20350208', '20350310', '20350408', '20350508', '20350606', '20350705', '20350804', '20350902', '20351001', '20351031', '20351130', '20351229', '20351229', '20360226'],
                       \ '2036' : ['6', '20360128', '20360227', '20360328', '20360426', '20360526', '20360624', '20360723', '20360822', '20360920', '20361019', '20361118', '20361217', '20370116', '20370214'],
                       \ '2037' : ['0', '20370215', '20370317', '20370416', '20370515', '20370614', '20370713', '20370811', '20370910', '20371009', '20371107', '20371207', '20380105', '20380105', '20380305'],
                       \ '2038' : ['0', '20380204', '20380306', '20380405', '20380504', '20380603', '20380702', '20380801', '20380830', '20380929', '20381028', '20381126', '20381226', '20381226', '20390222'],
                       \ '2039' : ['0', '20390223', '20390325', '20390423', '20390523', '20390622', '20390721', '20390820', '20390918', '20391018', '20391116', '20391216', '20400114', '20400114', '20400312'],
                       \ '2040' : ['0', '20400212', '20400313', '20400411', '20400511', '20400610', '20400709', '20400808', '20400906', '20401006', '20401105', '20401204', '20410103', '20410103', '20410301'],
                       \ '2041' : ['0', '20410201', '20410302', '20410401', '20410430', '20410530', '20410628', '20410728', '20410827', '20410925', '20411025', '20411124', '20411223', '20411223', '20420219'],
                       \ '2042' : ['0', '20420220', '20420322', '20420420', '20420519', '20420618', '20420717', '20420816', '20420914', '20421014', '20421113', '20421212', '20430111', '20430111', '20430310'],
                       \ '2043' : ['0', '20430210', '20430311', '20430410', '20430509', '20430607', '20430707', '20430805', '20430903', '20431003', '20431102', '20431201', '20431231', '20431231', '20440228'],
                       \ '2044' : ['7', '20440130', '20440229', '20440329', '20440428', '20440527', '20440625', '20440725', '20440823', '20440921', '20441021', '20441119', '20441219', '20450118', '20450216'],
                       \ '2045' : ['0', '20450217', '20450319', '20450417', '20450517', '20450615', '20450714', '20450813', '20450911', '20451010', '20451109', '20451208', '20460107', '20460107', '20460307'],
                       \ '2046' : ['0', '20460206', '20460308', '20460406', '20460506', '20460604', '20460704', '20460802', '20460901', '20460930', '20461029', '20461128', '20461227', '20461227', '20470224'],
                       \ '2047' : ['0', '20470225', '20470326', '20470425', '20470525', '20470623', '20470723', '20470821', '20470920', '20471019', '20471117', '20471217', '20480115', '20480115', '20480313'],
                       \ '2048' : ['0', '20480214', '20480314', '20480413', '20480513', '20480611', '20480711', '20480810', '20480908', '20481008', '20481106', '20481205', '20490104', '20490104', '20490303'],
                       \ '2049' : ['0', '20490202', '20490304', '20490402', '20490502', '20490531', '20490630', '20490730', '20490828', '20490927', '20491027', '20491125', '20491225', '20491225', '20500220'],
                       \ '2050' : ['0', '20500221', '20500323', '20500421', '20500521', '20500619', '20500719', '20500817', '20500916', '20501016', '20501114', '20501214', '20510113', '20510113', '20510312'],
                       \}

function! s:calcLunarCal(date)
    let l:lunaryear = a:date[0]
    let l:lunarmonth = 0
    let l:lunarday = 0
    let l:leapflag = 0
    let l:yearstr = printf("%04d", l:lunaryear)
    let l:datestr = printf("%04d%02d%02d", a:date[0], a:date[1], a:date[2])
    if has_key(s:ChineseLunarDB, l:yearstr)
        if s:ChineseLunarDB[l:yearstr][1] > l:datestr
            let l:lunaryear = l:lunaryear - 1
            let l:yearstr = printf("%04d", l:lunaryear)
        elseif s:ChineseLunarDB[l:yearstr][14] < l:datestr
            let l:lunaryear = l:lunaryear + 1
            let l:yearstr = printf("%04d", l:lunaryear)
        endif
    endif
    if has_key(s:ChineseLunarDB, l:yearstr)
        let l:leapmonth = str2nr(s:ChineseLunarDB[l:yearstr][0])
        if l:leapmonth > 0
            let l:i = 13
        else
            let l:i = 12
        endif
        while l:i >= 1
            if s:ChineseLunarDB[l:yearstr][l:i] <= l:datestr
                break
            endif
            let l:i = l:i - 1
        endwhile
        if l:leapmonth > 0
            if l:i <= l:leapmonth
                let l:lunarmonth = l:i
            elseif l:i == l:leapmonth + 1
                let l:lunarmonth = l:i - 1
                let l:leapflag = 1
            else
                let l:lunarmonth = l:i - 1
            endif
        else
            let l:lunarmonth = l:i
        endif
        let l:lunarday = s:calcDiffDays(l:datestr, s:ChineseLunarDB[l:yearstr][l:i])
    endif
    return [l:lunaryear, l:lunarmonth, l:lunarday, l:leapflag]
endfunction
function! s:calcDiffDays(date1, date2)
    let l:year1  = str2nr(strpart(date1, 0, 4))
    let l:month1 = str2nr(strpart(date1, 4, 2))
    let l:day1   = str2nr(strpart(date1, 6, 2))
    let l:year2  = str2nr(strpart(date2, 0, 4))
    let l:month2 = str2nr(strpart(date2, 4, 2))
    let l:day2   = str2nr(strpart(date2, 6, 2))
    let l:diff   = 0
    while (l:year1 > l:year2) || ((l:year1 == l:year2) && (l:month1 > l:month2))
        let l:diff = l:diff + s:calcMonthDays(l:year2, l:month2) - l:day2 + 1
        let l:day2 = 1
        if l:month2 >= 12
            let l:month2 = 1
            let l:year2 = l:year2 + 1
        else
            let l:month2 = l:month2 + 1
        endif
    endwhile
    if (l:year1 == l:year2) && (l:month1 == l:month2)
        let l:diff = l:diff + l:day1 - l:day2 + 1
    else
    endif
endfunction
function! s:calcMonthDays(year, month)
endif
